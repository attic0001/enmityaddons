function w(o){window.enmity.plugins.registerPlugin(o)}var g="MuteNewGuilds",y="1.0.0",p="Automatically mutes newly joined guilds.",h=[{name:"Attic",id:"315852258854174720"},{name:"fiore",id:"396496265430695947"}],S="#6f2da8",v={name:g,version:y,description:p,authors:h,color:S};function F(o){return window.enmity.patcher.create(o)}function b(...o){return window.enmity.modules.getByProps(...o)}window.enmity.modules.common;const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const i=e.FormRow,C=e.FormSection;e.FormSelect,e.FormSubLabel;const s=e.FormSwitch;e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes,window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const n=window.enmity.modules.common.React,T=window.enmity.modules.common.Dispatcher;window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;var E=({settings:o})=>n.createElement(C,null,n.createElement(i,{label:"Mute",trailing:n.createElement(s,{value:o.get("muted",!0),onValueChange:()=>o.toggle("muted",!0)})}),n.createElement(i,{label:"Suppress Everyone",trailing:n.createElement(s,{value:o.get("suppress_everyone",!1),onValueChange:()=>o.toggle("suppress_everyone",!1)})}),n.createElement(i,{label:"Suppress Roles",trailing:n.createElement(s,{value:o.get("suppress_roles",!1),onValueChange:()=>o.toggle("suppress_roles",!1)})}),n.createElement(i,{label:"Mobile Push Notifications",trailing:n.createElement(s,{value:o.get("mobile_push",!0),onValueChange:()=>o.toggle("mobile_push",!0)})}));function l(o,t,m){return window.enmity.settings.get(o,t,m)}const N=b("updateGuildNotificationSettings").updateGuildNotificationSettings,a=F("mute-new-guild"),f={...v,onStart(){a.after(T,"dispatch",(o,t,m)=>{var r,u,d;if(t[0].type!=="INVITE_ACCEPT_SUCCESS")return m;const c=(d=(u=(r=t[0])==null?void 0:r.invite)==null?void 0:u.guild)==null?void 0:d.id;return N(c,{muted:l("MuteNewGuilds","muted",!0),suppress_everyone:l("MuteNewGuilds","suppress_everyone",!1),suppress_roles:l("MuteNewGuilds","suppress_roles",!1),mobile_push:l("MuteNewGuilds","mobile_push",!0)}),m})},onStop(){a.unpatchAll()},getSettingsPanel({settings:o}){return n.createElement(E,{settings:o})}};w(f);
